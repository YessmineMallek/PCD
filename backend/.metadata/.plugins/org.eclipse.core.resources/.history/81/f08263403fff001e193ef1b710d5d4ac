FROM eclipse-temurin:17-jdk-alpine
COPY target/*.jar trainTruck.jar
ENTRYPOINT ["java","-jar","trainTruck.jar"]


FROM ubuntu:18.04

COPY db.dump /docker-entrypoint-initdb.d/db.dump

# Install PostgreSQL client tools
RUN psql -U postgres -d GTFS_Base -f /docker-entrypoint-initdb.d/db.dump

# Run the dump file to restore the database
RUN ["psql", "-U", "postgres", "-d", "GTFS_Base", "-f", "/docker-entrypoint-initdb.d/db.dump"]


